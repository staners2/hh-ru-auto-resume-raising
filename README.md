# hh-ru-auto-resume-raising

### –û–ø–∏—Å–∞–Ω–∏–µ
–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥—ä–µ–º–∞ —Ä–µ–∑—é–º–µ –Ω–∞ [HeadHunter](https://hh.ru/) 
–∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –ø–ª–∞—Ç–Ω–æ–π —É—Å–ª—É–≥–µ 
[–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ.LITE](https://hh.ru/applicant/services/payment?from=landing&package=lite) 
–æ—Ç HeadHunter.

**üöÄ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–æ –Ω–∞ Go –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏: ~20MB (–≤–º–µ—Å—Ç–æ ~100MB+ Python)
- –†–∞–∑–º–µ—Ä Docker –æ–±—Ä–∞–∑–∞: ~15MB (–≤–º–µ—Å—Ç–æ ~500MB)
- –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (–≤–º–µ—Å—Ç–æ 5-10 —Å–µ–∫—É–Ω–¥)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
hh-ru-auto-resume-raising/
‚îú‚îÄ‚îÄ cmd/hh-bot/              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ internal/                # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ bot/                 # Telegram –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ hh/                  # HH.ru API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ scheduler/           # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
‚îÇ   ‚îî‚îÄ‚îÄ storage/             # –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îú‚îÄ‚îÄ pkg/config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .helm/                   # Helm —á–∞—Ä—Ç –¥–ª—è Kubernetes
‚îî‚îÄ‚îÄ Dockerfile               # Multi-stage build
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

```bash
# Telegram –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
TELEGRAM_TOKEN=your_bot_token_here
ADMIN_TG=your_telegram_user_id

# HeadHunter —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
HH_LOGIN=your_hh_login
HH_PASSWORD=your_hh_password

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
TZ=Europe/Moscow
PROXY=None  # –∏–ª–∏ URL –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä–∞
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

#### –° –ø–æ–º–æ—â—å—é Go
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
go mod download

# –ó–∞–ø—É—Å–∫
go run cmd/hh-bot/main.go
```

#### –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
```bash
# –°–±–æ—Ä–∫–∞
go build -o hh-bot cmd/hh-bot/main.go

# –ó–∞–ø—É—Å–∫
./hh-bot
```
### –ó–∞–ø—É—Å–∫ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
```
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å docker –∏ docker-compose
# https://docs.docker.com/engine/install/ubuntu/

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
docker compose up -d
```

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Kubernetes —á–µ—Ä–µ–∑ Helm

#### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Kubernetes –∫–ª–∞—Å—Ç–µ—Ä
- Helm 3.x —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/staners2/hh-ru-auto-resume-raising.git
cd hh-ru-auto-resume-raising

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Ä—Ç —Å –±–∞–∑–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
helm install hh-bot .helm/

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
helm install hh-bot .helm/ \
  --set env.HH_LOGIN="your_login" \
  --set env.HH_PASSWORD="your_password" \
  --set persistence.size=500Mi \
  --set persistence.storageClass=fast-ssd

# –û–±–Ω–æ–≤–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
helm upgrade hh-bot .helm/

# –£–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
helm uninstall hh-bot
```

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ values.yaml
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å values.yaml
cp .helm/values.yaml my-values.yaml
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å my-values.yaml —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º values.yaml
helm install hh-bot .helm/ -f my-values.yaml
```

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
- `env.TELEGRAM_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `env.ADMIN_TG` - ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ Telegram
- `env.HH_LOGIN` - –ª–æ–≥–∏–Ω –æ—Ç HeadHunter
- `env.HH_PASSWORD` - –ø–∞—Ä–æ–ª—å –æ—Ç HeadHunter
- `env.TZ` - —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `Europe/Moscow`)
- `env.PROXY` - –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `None`)

**–†–µ—Å—É—Ä—Å—ã –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:**
- `persistence.enabled` - –≤–∫–ª—é—á–∏—Ç—å Persistent Volume –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π
- `persistence.size` - —Ä–∞–∑–º–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100Mi)
- `persistence.storageClass` - –∫–ª–∞—Å—Å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- `resources.requests` - –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã (CPU: 10m, Memory: 20Mi)
- `resources.limits` - –ª–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU: 50m, Memory: 64Mi)

**Docker –æ–±—Ä–∞–∑:**
- `image.repository` - Docker –æ–±—Ä–∞–∑ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `ghcr.io/staners2/hh-ru-auto-resume-raising`)
- `image.tag` - —Ç–µ–≥ –æ–±—Ä–∞–∑–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `latest`)

#### –ü—Ä–∏–º–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
```bash
helm install hh-bot .helm/ \
  --set env.TELEGRAM_TOKEN="your_bot_token" \
  --set env.ADMIN_TG="123456789" \
  --set env.HH_LOGIN="your_login" \
  --set env.HH_PASSWORD="your_password" \
  --set persistence.size=200Mi
```

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã
1) –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—É–Ω–∫—Ç—ã –∏–∑ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
2) –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ (–µ—Å–ª–∏ –±–æ—Ç –±—ã–ª –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤–≤–µ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É /start)
3) –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è" (–ø–æ–¥–≥—Ä—É–∑—è—Ç—Å—è —Ç–æ–∫–µ–Ω—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ config/tokens.json)
4) –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–µ–∑—é–º–µ" (–ø–æ–¥–≥—Ä—É–∑—è—Ç—Å—è —Ä–µ–∑—é–º–µ, –≤ –æ—Ç–≤–µ—Ç–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞)
5) –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å" –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–µ –¥–∞–Ω–Ω—ã–µ (–≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –∑–∞–ø–∏—Å—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç–æ –æ–Ω–∞ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç—Å—è —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏)
6) –ì–æ—Ç–æ–≤–æ!
### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ 
- –ü—Ä–∏ –ø–æ–¥–Ω—è—Ç–∏–∏ –ø—Ä–∏–¥–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –≤–∏–¥–µ: –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—é–º–µ, –æ—Ç–≤–µ—Ç –∑–∞–ø—Ä–æ—Å–∞, –≤—Ä–µ–º—è
- –ö–Ω–æ–ø–∫–∞ "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ" (–≤—ã–≤–µ–¥–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º, –º–µ–Ω—è–µ—Ç—Å—è –≤ —Å–ª—É—á–∞–µ –ø–æ–¥–Ω—è—Ç–∏—è —Ä–µ–∑—é–º–µ)
- –ö–Ω–æ–ø–∫–∞ "–°–ø–∏—Å–æ–∫ —Ä–µ–∑—é–º–µ" (–ª–æ–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è 4 –ø—É–Ω–∫—Ç–∞ –ü—Ä–∏–Ω—Ü–∏–ø–∞ —Ä–∞–±–æ—Ç—ã)
- –ö–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å" (–¥–∞–ª–µ–µ –≤–≤–µ—Å—Ç–∏ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—é–º–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è)
- –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ—Ñ–∏–ª—å" (–≤—ã–≤–µ–¥–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞ .env)
- –ö–Ω–æ–ø–∫–∞ "–í–∫–ª/–≤—ã–∫–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" (–º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø–æ–¥–Ω—è—Ç–∏–∏ —Ä–µ–∑—é–º–µ)
### –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è" —Ç–æ–∫–µ–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ª–∏–±–æ –ø—Ä–∏ –∏—Ö –Ω–∞–ª–∏—á–∏–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è.
- –ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —Ç–æ —Ç–æ–∫–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Å–ª—É—á–∞–µ —Ä–∞–∑—Ä—ã–≤–∞ —Å–µ—Å—Å–∏–∏.
